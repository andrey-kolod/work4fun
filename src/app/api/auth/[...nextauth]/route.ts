// src/app/api/auth/[...nextauth]/route.ts

import NextAuth from 'next-auth';
import { authOptions } from '@/lib/auth';

const handler = NextAuth(authOptions);

export { handler as GET, handler as POST };

//----------------------------------------------------------------------------
// /**
//  * üéØ –≠–¢–û –°–ï–†–î–¶–ï –ù–ê–®–ï–ô –°–ò–°–¢–ï–ú–´ –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò!
//  *
//  * –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–∑–¥–∞–µ—Ç API –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è NextAuth
//  * [...nextauth] - —ç—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–æ—É—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –í–°–ï –∑–∞–ø—Ä–æ—Å—ã –∫ /api/auth/*
//  *
//  * üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–ê–ü–ö–ò:
//  * src/app/api/auth/[...nextauth]/route.ts
//  *
//  * üóÇÔ∏è –ß–¢–û –û–ó–ù–ê–ß–ê–ï–¢ [...nextauth]:
//  * - [...] - catch-all —Å–µ–≥–º–µ–Ω—Ç (–ª–æ–≤–∏—Ç –≤—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø—É—Ç–∏)
//  * - nextauth - –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–º–æ–∂–Ω–æ –±—ã–ª–æ –Ω–∞–∑–≤–∞—Ç—å [...auth] –∏–ª–∏ [...session])
//  *
//  * üåê –ö–ê–ö–ò–ï URL –û–ë–†–ê–ë–ê–¢–´–í–ê–ï–¢:
//  * /api/auth/signin       ‚Üí route.ts
//  * /api/auth/signout      ‚Üí route.ts
//  * /api/auth/session      ‚Üí route.ts
//  * /api/auth/callback     ‚Üí route.ts
//  * /api/auth/–ª—é–±–æ–π/–ø—É—Ç—å   ‚Üí route.ts
//  */

// // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º NextAuth - –æ—Å–Ω–æ–≤–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
// import NextAuth from 'next-auth';

// // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞—à—É –∫–∞—Å—Ç–æ–º–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ auth.ts
// import { authOptions } from '@/lib/auth';

// /**
//  * üõ†Ô∏è –°–û–ó–î–ê–ï–ú –û–ë–†–ê–ë–û–¢–ß–ò–ö NEXT-AUTH
//  *
//  * NextAuth(authOptions) —Å–æ–∑–¥–∞–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ—Ç–æ—Ä—ã–π:
//  * - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –∑–∞–ø—Ä–æ—Å–∞ (–≤—Ö–æ–¥, –≤—ã—Ö–æ–¥, —Å–µ—Å—Å–∏—è –∏ —Ç.–¥.)
//  * - –ü—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–∞—à—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ authOptions
//  * - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å—é –ª–æ–≥–∏–∫—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
//  *
//  * üì¶ –ß–¢–û –í–ö–õ–Æ–ß–ê–ï–¢ handler:
//  * - –í–∞–ª–∏–¥–∞—Ü–∏—é –∑–∞–ø—Ä–æ—Å–æ–≤
//  * - –†–∞–±–æ—Ç—É —Å —Å–µ—Å—Å–∏—è–º–∏ –∏ JWT
//  * - OAuth flow (–µ—Å–ª–∏ –±—ã –±—ã–ª–∏ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã)
//  * - –ó–∞—â–∏—Ç—É –æ—Ç CSRF –∞—Ç–∞–∫
//  * - –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
//  */
// const handler = NextAuth(authOptions);

// /**
//  * üöÄ –≠–ö–°–ü–û–†–¢–ò–†–£–ï–ú HTTP –ú–ï–¢–û–î–´
//  *
//  * –í Next.js App Router –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª route.ts –º–æ–∂–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å:
//  * - GET, POST, PUT, DELETE, PATCH, OPTIONS, HEAD
//  *
//  * üì° –ü–û–ß–ï–ú–£ –ò–ú–ï–ù–ù–û GET –ò POST:
//  *
//  * GET –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç:
//  * - /api/auth/signin       (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞)
//  * - /api/auth/signout      (–≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã)
//  * - /api/auth/session      (–ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏)
//  * - /api/auth/csrf         (–∑–∞—â–∏—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω)
//  * - /api/auth/providers    (—Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤)
//  * - /api/auth/error        (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏)
//  *
//  * POST –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç:
//  * - /api/auth/signin/credentials (–æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã –≤—Ö–æ–¥–∞)
//  * - /api/auth/signout           (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–∞)
//  * - /api/auth/callback/*        (OAuth callback –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤)
//  * - /api/auth/session/update    (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏)
//  *
//  * üîÑ –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –î–ï–õ–ï–ì–ò–†–û–í–ê–ù–ò–ï:
//  * NextAuth –≤–Ω—É—Ç—Ä–∏ handler —Å–∞–º —Ä–µ—à–∞–µ—Ç:
//  * - –ö–∞–∫–æ–π endpoint –≤—ã–∑–≤–∞—Ç—å
//  * - –ö–∞–∫–æ–π –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
//  * - –ö–∞–∫—É—é –ª–æ–≥–∏–∫—É –ø—Ä–∏–º–µ–Ω–∏—Ç—å
//  */
// export { handler as GET, handler as POST };

// /**
//  * üé™ –ü–†–û–¶–ï–°–° –†–ê–ë–û–¢–´ –í –ñ–ò–í–û–ú –ü–†–ò–ú–ï–†–ï:
//  *
//  * 1. üìù –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –ó–ê–ü–û–õ–ù–Ø–ï–¢ –§–û–†–ú–£ –í–•–û–î–ê:
//  *    - Email: user@example.com
//  *    - Password: demo123
//  *
//  * 2. üöÄ REACT –ö–û–ú–ü–û–ù–ï–ù–¢ –í–´–ó–´–í–ê–ï–¢:
//  *    await signIn('credentials', {
//  *      email: 'user@example.com',
//  *      password: 'demo123',
//  *      redirect: false
//  *    });
//  *
//  * 3. üì® NEXT-AUTH –û–¢–ü–†–ê–í–õ–Ø–ï–¢ POST –ó–ê–ü–†–û–°:
//  *    POST /api/auth/callback/credentials
//  *    Body: { email: 'user@example.com', password: 'demo123' }
//  *
//  * 4. üõ†Ô∏è –ù–ê–® handler –û–ë–†–ê–ë–ê–¢–´–í–ê–ï–¢ –ó–ê–ü–†–û–°:
//  *    - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —á—Ç–æ —ç—Ç–æ callback credentials
//  *    - –í—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é authorize() –∏–∑ –Ω–∞—à–µ–≥–æ authOptions
//  *    - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î —á–µ—Ä–µ–∑ Prisma
//  *    - –°–æ–∑–¥–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω —Å —Ä–æ–ª—å—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
//  *    - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç cookie —Å —Å–µ—Å—Å–∏–µ–π
//  *
//  * 5. ‚úÖ –í–û–ó–í–†–ê–©–ê–ï–¢ –û–¢–í–ï–¢:
//  *    {
//  *      ok: true,
//  *      status: 200,
//  *      url: 'http://localhost:3000/dashboard'
//  *    }
//  *
//  * 6. üéâ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –ü–ï–†–ï–ù–ê–ü–†–ê–í–õ–Ø–ï–¢–°–Ø –í –°–ò–°–¢–ï–ú–£
//  */

// /**
//  * üí° –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –í–ê–†–ò–ê–ù–¢–´ –≠–ö–°–ü–û–†–¢–ê:
//  *
//  * –í–∞—Ä–∏–∞–Ω—Ç 1 (—Ç–æ—Ç —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º):
//  * export { handler as GET, handler as POST };
//  *
//  * –í–∞—Ä–∏–∞–Ω—Ç 2 (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–π):
//  * export const GET = handler;
//  * export const POST = handler;
//  *
//  * –í–∞—Ä–∏–∞–Ω—Ç 3 (–¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤):
//  * export const GET = handler;
//  * export const POST = handler;
//  * export const PUT = handler;
//  * export const DELETE = handler;
//  * // –ù–æ NextAuth –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ GET –∏ POST
//  */

// /**
//  * üõ°Ô∏è –ß–¢–û –ü–†–û–ò–°–•–û–î–ò–¢ –° –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨–Æ:
//  *
//  * NextAuth –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç:
//  * - CSRF –∑–∞—â–∏—Ç—É (Cross-Site Request Forgery)
//  * - JWT –ø–æ–¥–ø–∏—Å—å –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é
//  * - Secure cookies (httpOnly, sameSite)
//  * - –í–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
//  * - –ó–∞—â–∏—Ç—É –æ—Ç timing –∞—Ç–∞–∫
//  */

// /**
//  * üéØ –ö–õ–Æ–ß–ï–í–´–ï –ú–û–ú–ï–ù–¢–´:
//  *
//  * 1. ‚ùó –≠–¢–û –ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô –§–ê–ô–õ API –¥–ª—è –≤—Å–µ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
//  * 2. ‚ùó –í–°–ï –∑–∞–ø—Ä–æ—Å—ã –∫ /api/auth/* –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç handler
//  * 3. ‚ùó NextAuth —Å–∞–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —á—Ç–æ –¥–µ–ª–∞—Ç—å —Å –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º
//  * 4. ‚ùó –ú—ã —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (authOptions)
//  * 5. ‚ùó –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
//  */

// /**
//  * üîç –î–õ–Ø –û–¢–õ–ê–î–ö–ò –ú–û–ñ–ù–û –î–û–ë–ê–í–ò–¢–¨ –õ–û–ì–ò–†–û–í–ê–ù–ò–ï:
//  *
//  * const handler = async (req: Request, context: any) => {
//  *   console.log('üîê Auth request:', req.url, req.method);
//  *   return NextAuth(authOptions)(req, context);
//  * };
//  *
//  * –ù–æ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ª–æ–≥–∏ NextAuth
//  */
